<script src="StPageFlip-2.0.0/page-flip.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.min.js"></script>

<div id="flipbook"></div>

<script>
const pdfPath = "twoj_plik.pdf"; // TwÃ³j PDF
const container = document.getElementById("flipbook");

const flipbook = new St.PageFlip(container, {
    width: 600,
    height: 800,
    showCover: true
});

pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.worker.min.js';

pdfjsLib.getDocument(pdfPath).promise.then(pdf => {
    let pages = [];
    for (let i = 1; i <= pdf.numPages; i++) {
        pdf.getPage(i).then(page => {
            const viewport = page.getViewport({ scale: 2 });
            const canvas = document.createElement('canvas');
            canvas.width = viewport.width;
            canvas.height = viewport.height;
            page.render({ canvasContext: canvas.getContext('2d'), viewport: viewport }).promise.then(() => {
                pages.push(canvas.toDataURL("image/jpeg"));
                if (pages.length === pdf.numPages) {
                    flipbook.loadFromImages(pages);
                }
            });
        });
    }
});
</script>
